(this["webpackJsonpsignin-counter"]=this["webpackJsonpsignin-counter"]||[]).push([[0],{22:function(e,t,n){e.exports={Wrapper:"UserRegister_Wrapper__S0HPk",Container:"UserRegister_Container__bc9hu"}},23:function(e,t,n){e.exports={Wrapper:"Counter_Wrapper__10rZf",Container:"Counter_Container__2pbsl"}},28:function(e,t,n){e.exports={Wrapper:"UserLogin_Wrapper__3Tr9H",Container:"UserLogin_Container__1K8Qp"}},33:function(e,t,n){e.exports={Loader:"Loader_Loader__2hn04"}},35:function(e,t,n){e.exports={Container:"Timer_Container__3xUvQ"}},43:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(2),r=n.n(c),s=n(31),i=n.n(s),o=(n(43),n(16)),u=n(7),j=n(32),l=n.n(j),d=n(33),b=n.n(d),p=function(e){var t=e.size,n=e.color,c=e.loading;return Object(a.jsx)("div",{className:b.a.Loader,children:Object(a.jsx)(l.a,{size:t,color:n,loading:c})})},h=n(18),O=n(19),f=n(11),x=n(13),g=function(){var e=Object(c.useState)({firstName:"",lastName:"",email:"",password:""}),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(f.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(!1),j=Object(f.a)(u,2),l=j[0],d=j[1],b=function(){var e=n.email,t=n.password;x.a.auth().createUserWithEmailAndPassword(e,t).then((function(e){return t=e.user.uid,void x.a.database().ref(t).set({Desktop:{seconds:0},Mobile:{seconds:0}});var t})).then((function(){return o(!1)})).then((function(){return d(!0)})).catch((function(e){return console.log(e)}))};return{isLoading:i,isRegistered:l,changeHandler:function(e){var t=e.target,c=t.id,r=t.value;a(Object(O.a)(Object(O.a)({},n),{},Object(h.a)({},c,r)))},sendData:function(e){e.preventDefault(),o(!0),b()}}},v=n(22),m=n.n(v),_=function(){var e=g(),t=e.isLoading,n=e.isRegistered,c=e.changeHandler,r=e.sendData;return t?Object(a.jsx)("div",{className:m.a.Wrapper,children:Object(a.jsx)(p,{size:60,color:"#b0c4de",loading:t})}):n?Object(a.jsx)(u.a,{to:"/login"}):Object(a.jsx)("div",{className:m.a.Wrapper,children:Object(a.jsxs)("div",{className:m.a.Container,children:[Object(a.jsx)("h3",{children:"Register"}),Object(a.jsxs)("form",{onSubmit:r,children:[Object(a.jsx)("input",{type:"text",id:"firstName",onChange:c,placeholder:"First name"}),Object(a.jsx)("input",{type:"text",id:"lastName",onChange:c,placeholder:"Last name"}),Object(a.jsx)("input",{type:"text",id:"email",onChange:c,placeholder:"Email"}),Object(a.jsx)("input",{type:"password",id:"password",onChange:c,placeholder:"Password"}),Object(a.jsx)("input",{type:"submit",value:"sign in"})]}),Object(a.jsxs)("p",{children:["Already have account? ",Object(a.jsx)(o.b,{to:"/login",children:"Sign In"})]})]})})},C=n(28),S=n.n(C),w=function(){var e=function(){var e=Object(c.useState)({email:"",password:""}),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(f.a)(r,2),i=s[0],o=s[1];return{isLoggedIn:i,changeHandler:function(e){var t=e.target,c=t.id,r=t.value;a(Object(O.a)(Object(O.a)({},n),{},Object(h.a)({},c,r)))},sendData:function(e){e.preventDefault();var t=n.email,a=n.password;x.a.auth().signInWithEmailAndPassword(t,a).then((function(){return o(!0)})).catch((function(e){return console.log(e)}))}}}(),t=e.isLoggedIn,n=e.changeHandler,r=e.sendData;return t?Object(a.jsx)(u.a,{to:"/counter"}):Object(a.jsx)("div",{className:S.a.Wrapper,children:Object(a.jsxs)("div",{className:S.a.Container,children:[Object(a.jsx)("h3",{children:"Login"}),Object(a.jsxs)("form",{onSubmit:r,children:[Object(a.jsx)("input",{type:"text",id:"email",onChange:n,placeholder:"Email"}),Object(a.jsx)("input",{type:"password",id:"password",onChange:n,placeholder:"Password"}),Object(a.jsx)("input",{type:"submit",value:"sign in"})]}),Object(a.jsxs)("p",{children:["Don't have an account? ",Object(a.jsx)(o.b,{to:"/",children:"Sign Up"})]})]})})},L=n(37),N=n(35),W=n.n(N),D=function(e){var t=e.title,n=e.data.seconds,r=window.innerWidth,s=function(e,t,n){var a=Object(c.useState)(0),r=Object(f.a)(a,2),s=r[0],i=r[1],o=Math.floor(s%86400/3600),u=Math.floor(s%3600/60),j=Math.floor(s%60),l=function(){setInterval((function(){i((function(e){return e+1}))}),1e3)};return Object(c.useEffect)((function(){return i(n),"Desktop"===e&&(t>760?l():clearInterval(l)),"Mobile"===e&&(t<=760?l():clearInterval(l)),function(){return clearInterval(l)}}),[]),{totalSeconds:s,hrs:o,mins:u,secs:j}}(t,r,n),i=s.totalSeconds,o=s.hrs,u=s.mins,j=s.secs,l=Object(c.useCallback)((function(){var e=x.a.auth().currentUser.uid,n=x.a.database().ref(e),a={seconds:i};n.child(t).set(a)}),[i,t]);return Object(c.useEffect)((function(){l()}),[l]),Object(a.jsxs)("div",{className:W.a.Container,children:[Object(a.jsx)("h3",{children:t}),Object(a.jsx)("span",{children:Object(a.jsx)(L.a,{})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:o<10?"0".concat(o):o}),":",Object(a.jsx)("span",{children:u<10?"0".concat(u):u}),":",Object(a.jsx)("span",{children:j<10?"0".concat(j):j})]})]})},I=n(23),k=n.n(I),y=function(){var e=function(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),s=Object(f.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)({}),j=Object(f.a)(u,2),l=j[0],d=j[1],b=Object(c.useCallback)((function(){var e=x.a.auth().currentUser.uid;x.a.database().ref(e).once("value").then((function(e){return d(e.val())})).then((function(){return o(!1)})).catch((function(e){return console.log(e)}))}),[]);return Object(c.useEffect)((function(){b()}),[b]),{isLoggedOut:n,isLoading:i,time:l,logout:function(){x.a.auth().signOut().then((function(){return a(!0)})).catch((function(e){return console.log(e)}))}}}(),t=e.isLoggedOut,n=e.isLoading,r=e.time,s=e.logout,i=r.Desktop,o=r.Mobile;return n?Object(a.jsx)("div",{className:k.a.Wrapper,children:Object(a.jsx)(p,{size:60,color:"#b0c4de",loading:n})}):t?Object(a.jsx)(u.a,{to:"/login"}):Object(a.jsxs)("div",{className:k.a.Wrapper,children:[Object(a.jsxs)("div",{className:k.a.Container,children:[Object(a.jsx)(D,{title:"Desktop",data:i}),Object(a.jsx)(D,{title:"Mobile",data:o})]}),Object(a.jsx)("button",{onClick:s,children:"log out"})]})};function M(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)(u.d,{children:[Object(a.jsx)(u.b,{exact:!0,path:"/",children:Object(a.jsx)(_,{})}),Object(a.jsx)(u.b,{path:"/login",children:Object(a.jsx)(w,{})}),Object(a.jsx)(u.b,{path:"/counter",children:Object(a.jsx)(y,{})})]})})}n(36).a.initializeApp({apiKey:"AIzaSyDS-M7xNadBiaJnPvWkjVAOZ9l6loRvpew",authDomain:"signin-counter.firebaseapp.com",projectId:"signin-counter",storageBucket:"signin-counter.appspot.com",messagingSenderId:"619606190380",appId:"1:619606190380:web:c36e6e3b6c20be9f4b6489",measurementId:"G-9GT6VDSV4M"}),i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(M,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.fe77d534.chunk.js.map